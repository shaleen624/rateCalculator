<div class="container mt-4">
    <h2>Reference Data</h2>
    <button class="btn btn-primary mb-2" (click)="addNewRow()">Add</button>
    <table class="table">
      <thead>
        <tr>
          <th>Item</th>
          <th>Rate</th>
          <th>Unit</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let row of data">
          <td>
            <span *ngIf="!row.editMode">{{ row.item }}</span>
            <input *ngIf="row.editMode" type="text" class="form-control" [(ngModel)]="row.item" />
          </td>
          <td>
            <span *ngIf="!row.editMode">{{ row.rate }}</span>
            <input *ngIf="row.editMode" type="number" class="form-control" [(ngModel)]="row.rate" />
          </td>
          <td>
            <span *ngIf="!row.editMode">{{ row.unit }}</span>
            <input *ngIf="row.editMode" type="text" class="form-control" [(ngModel)]="row.unit" />
          </td>
          <td>
            <button class="btn btn-primary" *ngIf="!row.editMode && !addingNewRow" (click)="editRow(row)">Edit</button>
            <button class="btn btn-success" *ngIf="row.editMode" (click)="updateReferenceData(row._id,row)">Save</button>
            <button class="btn btn-secondary" *ngIf="row.editMode" (click)="cancelEdit(row)">Cancel</button>
            <button class="btn btn-danger" (click)="deleteReferenceData(row._id)">Delete</button>
          </td>
        </tr>
        <tr *ngIf="addingNewRow">
          <td>
            <input type="text" class="form-control" [(ngModel)]="newRow.item" />
          </td>
          <td>
            <input type="number" class="form-control" [(ngModel)]="newRow.rate" />
          </td>
          <td>
            <input type="text" class="form-control" [(ngModel)]="newRow.unit" />
          </td>
          <td>
            <button class="btn btn-success" (click)="createReferenceData(newRow)">Save</button>
            <button class="btn btn-secondary" (click)="cancelNewRow()">Cancel</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  